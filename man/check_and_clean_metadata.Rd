% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/check_and_clean_metadata.R
\name{check_and_clean_metadata}
\alias{check_and_clean_metadata}
\title{Check and Clean Metadata}
\usage{
check_and_clean_metadata(
  df,
  na_sample_id_action = c("stop", "drop"),
  invalid_seq_type_action = c("stop", "drop"),
  duplicate_action = c("stop", "keep_first", "keep_last")
)
}
\arguments{
\item{df}{A data frame containing the metadata.}

\item{na_sample_id_action}{How to handle \code{NA} values in \code{sample_id}.
Options are \code{"stop"} (default) or \code{"drop"}.}

\item{invalid_seq_type_action}{How to handle invalid values in \code{seq_type}.
Options are \code{"stop"} (default) or \code{"drop"}.}

\item{duplicate_action}{How to handle duplicate combinations of \code{sample_id} and \code{seq_type}.
Options are \code{"stop"} (default), \code{"keep_first"}, or \code{"keep_last"}.}
}
\value{
A cleaned data frame that meets the expected metadata requirements.
}
\description{
This function validates and optionally cleans a metadata data frame so that it
conforms to the expected format for downstream functions. Specifically, it checks that:
}
\details{
\itemize{
\item A \code{sample_id} column exists and contains no \code{NA} values.
\item A \code{seq_type} column exists and all its values are one of \code{"mrna"},
\code{"genome"}, or \code{"capture"}.
\item A \code{pathology} column exists.
\item No two rows have identical combinations of \code{sample_id} and \code{seq_type}.
}

The user can specify how to handle each problem:

\itemize{
\item \strong{NA in \code{sample_id}:} Set \code{na_sample_id_action} to \code{"stop"}
(default) to throw an error or to \code{"drop"} to remove offending rows.
\item \strong{Invalid \code{seq_type}:} Set \code{invalid_seq_type_action} to \code{"stop"}
(default) to throw an error or to \code{"drop"} to remove rows with invalid values.
\item \strong{Duplicate combinations of \code{sample_id} and \code{seq_type}:}
Set \code{duplicate_action} to \code{"stop"} (default), \code{"keep_first"}, or \code{"keep_last"}.
}
}
